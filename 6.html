<!DOCTYPE>
<head>
	<title>ROOM ESCAPE</title>
	<link rel="stylesheet" type="text/css" href="6.css">
	<script src="libraries/p5.js" type="text/javascript"></script>

    <script src="libraries/p5.dom.js" type="text/javascript"></script>
    <script src="libraries/p5.sound.js" type="text/javascript"></script>

    <script src="sketch1.js" type="text/javascript"></script>
</head>

<body onclick="sound_indicator()" style="margin: 0; padding: 0;">
    <audio autoplay loop id="f-voice">
    	<source src="audio/french.mp3" type="audio/mpeg">
    </audio>

    <audio id="she-cannot-talk">
    	<source src="audio/5.wav" type="audio/wav">
    </audio>

    <audio id="right_alert">
		<source src="audio/right-alert.wav" type="audio/wav">
		Your browser does not support this element
	</audio>

	<audio id="wrong_alert">
		<source src="audio/wrong-alert.wav" type="audio/wav">
		Your browser does not support this element
</audio>

<audio autoplay loop>
		<source src="audio/bgm.wav" type="audio/wav">
	</audio>

    <div id="explain"><p>Dial 6 digits.</p></div>

	<div id="chineseNumber"></div>
	<div id="bg6"></div>
	<div id="bg7"></div>
	<div id="bg8-1"></div>
	<div id="bg8-2"></div>
	<div id="bg8-3"></div>
	<div id="bg4"></div>
	<div id="bg5"></div>
	<div id="bg5-1"></div>

	<div id="cvs_div" onclick="mute_clicksound()"></div>

	<div id="explain"><p>Dial 6 digits.</p></div>

	<div class="popup" onclick="myFunction()">i
  <span class="popuptext" id="myPopup">(French) The evil magician has changed me into a flag...now I am trapped in here forever...My friend, oh my fairy friend...she is even trapped in a book! How evil...</span>
</div>

	<button id="flag" onclick="flagToBook()"></button>
	<button id="book" onclick="bigBook()"></button>
	<button id="tidyBook" onclick="takeOutBook()"></button>
	<button id="outBook" onclick="openBook()"></button>
	<button id="openedBook" onclick="getNumber()"></button>
	<button id="phone" onclick="bigPhone()"></button>
	<button id="phoneZoomed" onclick="answerPhone()"></button>
	<button id="secondphone" onclick="toDialNumber()"></button>

	<script type="text/javascript">
	var click_wrong = true;

var a_right = document.getElementById("right_alert");
var a_wrong = document.getElementById("wrong_alert");

//for the sound
function sound_indicator(){
	
		if(click_wrong){
			a_wrong.play();

		}else{
			a_right.play();

		}
		click_wrong = true;
}

function mute_clicksound(){
	click_wrong = false;
}

function myFunction() {
    var popup = document.getElementById("myPopup");
    popup.classList.toggle("show");
    //to toggle the alert sound played
    click_wrong = false;
}

	// flashlight cursor
		// function update(e){
  //       var x = e.clientX || e.touches[0].clientX
  //       var y = e.clientY || e.touches[0].clientY

  //       document.documentElement.style.setProperty('--cursorX', x + 'px')
  //       document.documentElement.style.setProperty('--cursorY', y + 'px')
  //       }

  //       document.addEventListener('mousemove',update)
  //       document.addEventListener('touchmove',update)

  var frenchVoice = document.getElementById("f-voice");

	function flagToBook(){
		document.getElementById("bg6").style.display = "none";
		document.getElementById("bg7").style.display = "block";
		document.getElementById("flag").style.display = "none";
		document.getElementById("book").style.display = "block";
		frenchVoice.pause();
		document.getElementById("myPopup").innerHTML = "Click around or scroll page to discover the place.";
		click_wrong = false;
	}

	function bigBook(){
		document.getElementById("book").style.display = "none";
		document.getElementById("bg7").style.display = "none";
		document.getElementById("bg8-1").style.display = "block";
		document.getElementById("tidyBook").style.display = "block";
		click_wrong = false;
	}

	function takeOutBook(){
		document.getElementById("bg8-1").style.display = "none";
		document.getElementById("tidyBook").style.display = "none";
		document.getElementById("bg8-2").style.display = "block";
		document.getElementById("outBook").style.display = "block";
		click_wrong = false;
	}

	function openBook(){
		document.getElementById("bg8-2").style.display = "none";
		document.getElementById("outBook").style.display = "none";
		document.getElementById("bg8-3").style.display = "block";
		document.getElementById("openedBook").style.display = "block";
		click_wrong = false;
	}

	function getNumber(){
		document.getElementById("openedBook").style.display = "none";
		document.getElementById("bg8-3").style.display = "none";
		document.getElementById("chineseNumber").style.display = "block";
		document.getElementById("bg4").style.display = "block";
		document.getElementById("phone").style.display = "block";
		document.getElementById("myPopup").innerHTML = "Remember this code. It may be useful.";
		click_wrong = false;
	}

	function bigPhone(){
		document.getElementById("bg4").style.display = "none";
		document.getElementById("bg5").style.display = "block";
		document.getElementById("phoneZoomed").style.display = "block";
		document.getElementById("phone").style.display = "none";
		document.getElementById("chineseNumber").style.display = "none";
		document.getElementById("bg8-3").style.display = "none";
		document.getElementById("myPopup").innerHTML = "Click around or scroll page to discover the place.";
		click_wrong = false;
	}

	function answerPhone(){
		document.getElementById("bg5").style.display = "none";
		document.getElementById("bg5-1").style.display = "block";
		document.getElementById("secondphone").style.display = "block";
		document.getElementById("phoneZoomed").style.display = "none";
		click_wrong = false;
	}

	var cannot_talk = document.getElementById("she-cannot-talk");

	function toDialNumber(){

		document.getElementById("bg5-1").style.display = "none";
		document.getElementById("secondphone").style.display = "none";
		document.getElementById("cvs_div").style.display = "block";
		document.getElementById("explain").style.display = "block";
		cannot_talk.play();
		click_wrong = false;
	}

	// window.onload = function(){
	// 	var theDelay = 5;
	// 	var timer = setTimeout("scroll()", theDelay*1000);
	// }

	// function scroll(){
	// 	document.getElementById("bg2").style.display = "block";
	// 	document.getElementById("skull").style.display = "block";
	// }
</script>
</body>